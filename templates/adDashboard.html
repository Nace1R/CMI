<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CMI City</title>
        <!-- Load Vue.js framework -->
        <script src="https://unpkg.com/vue@3"></script>
        <!-- Load Naive UI component library -->
        <script src="https://unpkg.com/naive-ui"></script>
        <link rel="stylesheet" href="https://unpkg.com/naive-ui/dist/naive-ui.css">
        <!-- Load Line Awesome icons -->
        <link rel="stylesheet"
            href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <!-- Load Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='slike/favicon5.png') }}">
        <style>
            body{
                font-family: 'Poppins', sans-serif;
                margin: 0;
                padding: 0;
            }
            h1{
                margin-left:20px;
            }
            #app {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
            .back-button{
                position: absolute;
                top: 110px;
                right: 20px;
                background-color: #1B365C !important;
                color: white !important;
                border: none !important;
                border-radius: 8px !important;
                padding: 8px 16px !important;
                font-size: 14px !important;
                font-weight: 500 !important;
                cursor: pointer !important;
                display: flex !important;
                align-items: center !important;
                transition: all 0.2s ease !important;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
                z-index: 10;
            }
            .back-button:hover {
                background-color: #2A4A7C !important;
                transform: translateY(-2px) !important;
                box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15) !important;
            }
            .back-button i {
                color: white !important;
            }
            .navbar {
            height: 64px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 10;
        }

        .navbar-left {
            display: flex;
            align-items: center;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            height: 40px;
            margin-right: 20px;
        }

        .username {
            font-weight: 500;
            color: #333;
            cursor: pointer;
        }

        /* NAIVE UI CLEANING */
        .n-dropdown,
        .n-dropdown *,
        .n-base-selection,
        .n-base-selection *,
        .n-input,
        .n-input *,
        .navbar .n-button,
        .navbar .n-button * {
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            background-color: transparent !important;
        }

        .n-dropdown-menu {
            border: none !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12) !important;
            background-color: white !important;
        }

        .n-dropdown-option {
            background-color: white !important;
        }

        .n-dropdown-option:hover {
            background-color: #f5f5f5 !important;
        }

        .n-base-selection__border,
        .n-base-selection__state-border {
            border: none !important;
            box-shadow: none !important;
            display: none !important;
        }

        </style>
        </head>
        <body>
            <div id="app">
                <div class="navbar">
                    <div class="navbar-left">
                        <img src="{{ url_for('static', filename='slike/logo2.png') }}" alt="CMI Logo" class="logo">
                    </div>

                    <div class="navbar-right">
                        <n-dropdown :options="UserOptions" @select="handleSelect">
                            <n-button><span class="username">{{userData.ime}}</span> </n-button>
                        </n-dropdown>
                        <n-avatar round size="medium" src="{{pfp}}"></n-avatar>
                    </div>
                </div>
            <h1>Welcome admin <u>{{userData.ime}}</u>!</h1>
            <n-button @click="goBack" class="back-button">
                <template #icon>
                    <i class="las la-arrow-left" style="margin-right: 5px;"></i>
                </template>
                Back to Dashboard
            </n-button>










        </div>
        </body>
        <script>
            const { createApp, ref } = Vue;

            createApp({
              setup() {
                
                // User data
                const userData = ref({
                    ime: 'Admin User',
                    email: 'admin@example.com',
                    isAdmin: true  // Example condition - set to true or false based on your logic
                });
                const UserOptions = [
                        {
                            label: "Manage Profile",
                            key: "manageProfile",
                            onClick: () => {
                                alert('pritisnjeno');
                                window.location.href = '/manageProfile';
                            }
                        },
                        {
                            label: "Admin Panel",
                            key: "logout",
                            onClick: () => {
                                window.location.href = '/logout';
                            }
                        },
                        {
                            label: "Logout",
                            key: "logout",
                            onClick: () => {
                                window.location.href = '/logout';
                            }
                        }
                    ];  
                    const handleSelect = (key) => {
                        if (key === 'manageProfile') {
                            window.location.href = '/manageProfile';
                        } else if (key === 'logout') {
                            window.location.href = '/logout';
                        }
                    };
                return {
                    userData,
                    UserOptions,
                    handleSelect
                };
              },
              methods:{
                goBack() {
                  window.location.href = '/dashboard';
                }
              }
            })
            .use(naive)
            .mount('#app');
          </script>
</html>
